!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):((e="undefined"!=typeof globalThis?globalThis:e||self)["trello-card"]=e["trello-card"]||{},e["trello-card"].min=e["trello-card"].min||{},e["trello-card"].min.js=o())}(this,(function(){"use strict";function e(){}function o(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(o)}function l(e){return"function"==typeof e}function c(e,o){return e!=e?o==o:e!==o||e&&"object"==typeof e||"function"==typeof e}let n,a;function d(e,o){return n||(n=document.createElement("a")),n.href=o,e===n.href}function i(e,o){e.appendChild(o)}function s(e,o,t){e.insertBefore(o,t||null)}function u(e){e.parentNode.removeChild(e)}function f(e,o){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(o)}function g(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function p(){return h(" ")}function b(){return h("")}function m(e,o,t,r){return e.addEventListener(o,t,r),()=>e.removeEventListener(o,t,r)}function v(e){return function(o){return o.stopPropagation(),e.call(this,o)}}function k(e,o,t){null==t?e.removeAttribute(o):e.getAttribute(o)!==t&&e.setAttribute(o,t)}function w(e,o,t){o in e?e[o]="boolean"==typeof e[o]&&""===t||t:k(e,o,t)}function x(e,o){o=""+o,e.wholeText!==o&&(e.data=o)}function y(e,o,t,r){null===t?e.style.removeProperty(o):e.style.setProperty(o,t,r?"important":"")}function $(e,o,t){e.classList[t?"add":"remove"](o)}function z(e){const o={};for(const t of e)o[t.name]=t.value;return o}function M(e){a=e}const _=[],C=[],E=[],H=[],T=Promise.resolve();let N=!1;function D(e){E.push(e)}const B=new Set;let S=0;function V(){const e=a;do{for(;S<_.length;){const e=_[S];S++,M(e),I(e.$$)}for(M(null),_.length=0,S=0;C.length;)C.pop()();for(let e=0;e<E.length;e+=1){const o=E[e];B.has(o)||(B.add(o),o())}E.length=0}while(_.length);for(;H.length;)H.pop()();N=!1,B.clear(),M(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const o=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,o),e.after_update.forEach(D)}}const F=new Set;function A(e,o){e&&e.i&&(F.delete(e),e.i(o))}function L(e,o){e.d(1),o.delete(e.key)}function U(e,o,t,r,l,c,n,a,d,i,s,u){let f=e.length,g=c.length,h=f;const p={};for(;h--;)p[e[h].key]=h;const b=[],m=new Map,v=new Map;for(h=g;h--;){const e=u(l,c,h),a=t(e);let d=n.get(a);d?r&&d.p(e,o):(d=i(a,e),d.c()),m.set(a,b[h]=d),a in p&&v.set(a,Math.abs(h-p[a]))}const k=new Set,w=new Set;function x(e){A(e,1),e.m(a,s),n.set(e.key,e),s=e.first,g--}for(;f&&g;){const o=b[g-1],t=e[f-1],r=o.key,l=t.key;o===t?(s=o.first,f--,g--):m.has(l)?!n.has(r)||k.has(r)?x(o):w.has(l)?f--:v.get(r)>v.get(l)?(w.add(r),x(o)):(k.add(l),f--):(d(t,n),f--)}for(;f--;){const o=e[f];m.has(o.key)||d(o,n)}for(;g;)x(b[g-1]);return b}function R(e,o){-1===e.$$.dirty[0]&&(_.push(e),N||(N=!0,T.then(V)),e.$$.dirty.fill(0)),e.$$.dirty[o/31|0]|=1<<o%31}function j(c,n,d,i,s,f,g,h=[-1]){const p=a;M(c);const b=c.$$={fragment:null,ctx:null,props:f,update:e,not_equal:s,bound:t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:t(),dirty:h,skip_bound:!1,root:n.target||p.$$.root};g&&g(b.root);let m=!1;if(b.ctx=d?d(c,n.props||{},((e,o,...t)=>{const r=t.length?t[0]:o;return b.ctx&&s(b.ctx[e],b.ctx[e]=r)&&(!b.skip_bound&&b.bound[e]&&b.bound[e](r),m&&R(c,e)),o})):[],b.update(),m=!0,r(b.before_update),b.fragment=!!i&&i(b.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);b.fragment&&b.fragment.l(e),e.forEach(u)}else b.fragment&&b.fragment.c();n.intro&&A(c.$$.fragment),function(e,t,c,n){const{fragment:a,on_mount:d,on_destroy:i,after_update:s}=e.$$;a&&a.m(t,c),n||D((()=>{const t=d.map(o).filter(l);i?i.push(...t):r(t),e.$$.on_mount=[]})),s.forEach(D)}(c,n.target,n.anchor,n.customElement),V()}M(p)}let P;"function"==typeof HTMLElement&&(P=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(o).filter(l);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,o,t){this[e]=t}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){!function(e,o){const t=e.$$;null!==t.fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(o),t.on_destroy=t.fragment=null,t.ctx=[])}(this,1),this.$destroy=e}$on(e,o){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(o),()=>{const e=t.indexOf(o);-1!==e&&t.splice(e,1)}}$set(e){var o;this.$$set&&(o=e,0!==Object.keys(o).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});function W(e,o,t){const r=e.slice();return r[11]=o[t],r}function Z(o){let t,r,l,c,n;return{c(){t=g("div"),r=g("img"),c=p(),n=g("span"),n.textContent="Template",k(r,"class","badge-icon"),d(r.src,l=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="#42526e"><path d="m3 6v-1c0-1.10457.89543-2 2-2h1c.55228 0 1 .44772 1 1s-.44772 1-1 1h-1v1c0 .55228-.44772 1-1 1s-1-.44772-1-1z"/><path clip-rule="evenodd" d="m6 8c0-1.10457.89543-2 2-2h11c1.1046 0 2 .89543 2 2v10c0 1.1046-.8954 2-2 2h-11c-1.10457 0-2-.8954-2-2zm2 0h11v6h-11zm10 10c-.5523 0-1-.4477-1-1s.4477-1 1-1 1 .4477 1 1-.4477 1-1 1zm-10-1c0 .5523.44772 1 1 1h3c.5523 0 1-.4477 1-1s-.4477-1-1-1h-3c-.55228 0-1 .4477-1 1z" fill-rule="evenodd"/><path d="m4 14c-.55228 0-1 .4477-1 1v1c0 1.1046.89543 2 2 2v-3c0-.5523-.44772-1-1-1z"/><path d="m3 9c0-.55228.44772-1 1-1s1 .44772 1 1v3c0 .5523-.44772 1-1 1s-1-.4477-1-1z"/><path d="m8 4c0-.55228.44772-1 1-1h4c.5523 0 1 .44772 1 1s-.4477 1-1 1h-4c-.55228 0-1-.44772-1-1z"/><path d="m16 3c-.5523 0-1 .44772-1 1s.4477 1 1 1h3c0-1.10457-.8954-2-2-2z"/></g></svg>'))||k(r,"src",l),k(r,"height","14"),k(r,"width","14"),k(r,"alt","Template Card badge"),k(n,"class","badge-text"),k(t,"class","badge is-template"),k(t,"title","This card is a template.")},m(e,o){s(e,t,o),i(t,r),i(t,c),i(t,n)},p:e,d(e){e&&u(t)}}}function O(o){let t,r,l,c,n;return{c(){t=g("div"),r=g("img"),c=p(),n=g("span"),n.textContent="Archived",k(r,"class","badge-icon"),d(r.src,l=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m3.03418 5.59621c-.04814-.55018.35885-1.03522.90904-1.08335l15.93908-1.39449c.5502-.04814 1.0352.35885 1.0834.90904l.0871.99619-17.93147 1.5688z" fill="#42526e"/><path d="m9 12.9999c0-.5523.44772-1 1-1h4c.5523 0 1 .4477 1 1s-.4477 1-1 1h-4c-.55228 0-1-.4477-1-1z" fill="#42526e"/><path clip-rule="evenodd" d="m3 18.9999v-10.99997h18v10.99997c0 1.1046-.8954 2-2 2h-14c-1.10457 0-2-.8954-2-2zm2-8.99997h14v8.99997h-14z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(r,"src",l),k(r,"height","14"),k(r,"width","14"),k(r,"alt","Archived badge"),k(n,"class","badge-text"),k(t,"title","This card is archived."),k(t,"class","badge")},m(e,o){s(e,t,o),i(t,r),i(t,c),i(t,n)},p:e,d(e){e&&u(t)}}}function Y(e){let o,t,r,l,c,n,a,d,i,f=e[0].subscribed&&q(),g=e[0].due&&G(e),h=e[0].description&&J(),m=e[0].comments>0&&K(e),v=e[0].attachments>e[4]&&Q(e),k=e[4]>0&&X(e),w=e[0].checkItems>0&&ee(e),x=e[0].votes>0&&te(e),y=e[0].location&&re();return{c(){f&&f.c(),o=p(),g&&g.c(),t=p(),h&&h.c(),r=p(),m&&m.c(),l=p(),v&&v.c(),c=p(),k&&k.c(),n=p(),w&&w.c(),a=p(),x&&x.c(),d=p(),y&&y.c(),i=b()},m(e,u){f&&f.m(e,u),s(e,o,u),g&&g.m(e,u),s(e,t,u),h&&h.m(e,u),s(e,r,u),m&&m.m(e,u),s(e,l,u),v&&v.m(e,u),s(e,c,u),k&&k.m(e,u),s(e,n,u),w&&w.m(e,u),s(e,a,u),x&&x.m(e,u),s(e,d,u),y&&y.m(e,u),s(e,i,u)},p(e,s){e[0].subscribed?f?f.p(e,s):(f=q(),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null),e[0].due?g?g.p(e,s):(g=G(e),g.c(),g.m(t.parentNode,t)):g&&(g.d(1),g=null),e[0].description?h?h.p(e,s):(h=J(),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),e[0].comments>0?m?m.p(e,s):(m=K(e),m.c(),m.m(l.parentNode,l)):m&&(m.d(1),m=null),e[0].attachments>e[4]?v?v.p(e,s):(v=Q(e),v.c(),v.m(c.parentNode,c)):v&&(v.d(1),v=null),e[4]>0?k?k.p(e,s):(k=X(e),k.c(),k.m(n.parentNode,n)):k&&(k.d(1),k=null),e[0].checkItems>0?w?w.p(e,s):(w=ee(e),w.c(),w.m(a.parentNode,a)):w&&(w.d(1),w=null),e[0].votes>0?x?x.p(e,s):(x=te(e),x.c(),x.m(d.parentNode,d)):x&&(x.d(1),x=null),e[0].location?y?y.p(e,s):(y=re(),y.c(),y.m(i.parentNode,i)):y&&(y.d(1),y=null)},d(e){f&&f.d(e),e&&u(o),g&&g.d(e),e&&u(t),h&&h.d(e),e&&u(r),m&&m.d(e),e&&u(l),v&&v.d(e),e&&u(c),k&&k.d(e),e&&u(n),w&&w.d(e),e&&u(a),x&&x.d(e),e&&u(d),y&&y.d(e),e&&u(i)}}}function q(o){let t,r,l;return{c(){t=g("div"),r=g("img"),k(r,"class","badge-icon"),d(r.src,l=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m12.0006 18c-4.53696 0-7.99921-4.26-7.99921-6 0-2.001 3.45825-6 7.99921-6 4.3768 0 7.9982 3.973 7.9982 6 0 1.74-3.4623 6-7.9982 6zm0-14c-5.5206 0-10.00051 4.841-10.00051 8 0 3.086 4.57698 8 10.00051 8 5.4235 0 9.9995-4.914 9.9995-8 0-3.159-4.4789-8-9.9995-8zm-.0231 9.9844c-1.103 0-2.00001-.897-2.00001-2s.89701-2 2.00001-2 2 .897 2 2-.897 2-2 2zm0-6c-2.20601 0-4.00001 1.794-4.00001 4s1.794 4 4.00001 4c2.206 0 4-1.794 4-4s-1.794-4-4-4z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(r,"src",l),k(r,"height","14"),k(r,"width","14"),k(r,"alt","Watching badge"),k(t,"title","You are watching this card."),k(t,"class","badge")},m(e,o){s(e,t,o),i(t,r)},p:e,d(e){e&&u(t)}}}function G(e){let o,t,r,l,c,n,a,f=se(new Date(e[0].due))+"";return{c(){o=g("div"),t=g("img"),l=p(),c=g("span"),n=h(f),k(t,"class","badge-icon"),d(t.src,r=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="#5E6C84"><path d="m13 6c0-.55228-.4477-1-1-1s-1 .44772-1 1v6c0 .2652.1054.5196.2929.7071l2.5 2.5c.3905.3905 1.0237.3905 1.4142 0s.3905-1.0237 0-1.4142l-2.2071-2.2071z"/><path clip-rule="evenodd" d="m22 12c0 5.5228-4.4772 10-10 10-5.52285 0-10-4.4772-10-10 0-5.52285 4.47715-10 10-10 5.5228 0 10 4.47715 10 10zm-10 8c4.4183 0 8-3.5817 8-8 0-4.41828-3.5817-8-8-8-4.41828 0-8 3.58172-8 8 0 4.4183 3.58172 8 8 8z" fill-rule="evenodd"/></g></svg>'))||k(t,"src",r),k(t,"height","14"),k(t,"width","14"),k(t,"alt","Due date badge"),k(c,"class","badge-text"),k(o,"title","Due"),k(o,"class",a="badge "+e[6])},m(e,r){s(e,o,r),i(o,t),i(o,l),i(o,c),i(c,n)},p(e,t){1&t&&f!==(f=se(new Date(e[0].due))+"")&&x(n,f),64&t&&a!==(a="badge "+e[6])&&k(o,"class",a)},d(e){e&&u(o)}}}function J(o){let t,r,l;return{c(){t=g("div"),r=g("img"),k(r,"class","badge-icon"),d(r.src,l=fe('<svg fill="none" height="14" viewBox="0 0 18 14" width="18" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m1 0c-.552285 0-1 .447715-1 1 0 .55228.447716 1 1 1h16c.5523 0 1-.44772 1-1 0-.552285-.4477-1-1-1zm0 4c-.552285 0-1 .44772-1 1s.447716 1 1 1h16c.5523 0 1-.44772 1-1s-.4477-1-1-1zm-1 5c0-.55229.447715-1 1-1h16c.5523 0 1 .44771 1 1s-.4477 1-1 1h-16c-.552284 0-1-.44771-1-1zm1 3c-.552285 0-1 .4477-1 1s.447715 1 1 1h10c.5523 0 1-.4477 1-1s-.4477-1-1-1z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(r,"src",l),k(r,"height","14"),k(r,"width","14"),k(r,"alt","Description badge"),k(t,"title","This card has a description."),k(t,"class","badge")},m(e,o){s(e,t,o),i(t,r)},p:e,d(e){e&&u(t)}}}function K(e){let o,t,r,l,c,n,a=e[0].comments+"";return{c(){o=g("div"),t=g("img"),l=p(),c=g("span"),n=h(a),k(t,"class","badge-icon"),d(t.src,r=fe('<svg fill="none" height="16" viewBox="0 0 20 16" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m14 12h-3.5l-4.21963 3.4014c-1.30265 1.0855-3.28037.1592-3.28037-1.5364v-2.6677c-1.7934-1.0374-3-2.97645-3-5.1973 0-3.31371 2.68629-6 6-6h8c3.3137 0 6 2.68629 6 6s-2.6863 6-6 6zm0-10h-8c-2.20914 0-4 1.79086-4 4 0 1.86384 1.27477 3.42994 3 3.87398v4.12602l5-4h4c2.2091 0 4-1.79086 4-4s-1.7909-4-4-4z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(t,"src",r),k(t,"height","14"),k(t,"width","14"),k(t,"alt","Comments badge"),k(c,"class","badge-text"),k(o,"title","Comments"),k(o,"class","badge")},m(e,r){s(e,o,r),i(o,t),i(o,l),i(o,c),i(c,n)},p(e,o){1&o&&a!==(a=e[0].comments+"")&&x(n,a)},d(e){e&&u(o)}}}function Q(e){let o,t,r,l,c,n,a=e[0].attachments-e[4]+"";return{c(){o=g("div"),t=g("img"),l=p(),c=g("span"),n=h(a),k(t,"class","badge-icon"),d(t.src,r=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m11.6426 17.9647c-1.5303 1.4953-4.01524 1.4959-5.54168.0044-1.52587-1.4911-1.52323-3.9224.00161-5.4125l7.14797-6.98476c.8971-.87664 2.3356-.87933 3.2327-.00263.8931.87263.8946 2.28214.0037 3.15278l-6.70329 6.55021c-.25073.245-.65554.2441-.91407-.0086-.25881-.2529-.25991-.6478 0-.9018l6.22936-6.08717c.3823-.37354.3823-.97917 0-1.35271-.3822-.37354-1.002-.37354-1.3843 0l-6.22937 6.08718c-1.02612 1.0027-1.02167 2.6089 0 3.6072 1.02151.9982 2.66587 1.0023 3.68267.0086l6.7033-6.5502c1.6562-1.61838 1.6532-4.23915-.0036-5.8582-1.6629-1.62494-4.341-1.61993-6.0014.00263l-7.14798 6.98477c-2.28871 2.2365-2.29267 5.8791-.00161 8.1179 2.29113 2.2388 6.01569 2.2379 8.31029-.0044l6.6864-6.5337c.3823-.3736.3823-.9792 0-1.3527-.3823-.3736-1.002-.3736-1.3843 0z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(t,"src",r),k(t,"height","14"),k(t,"width","14"),k(t,"alt","Attachments badge"),k(c,"class","badge-text"),k(o,"title","Attachments"),k(o,"class","badge")},m(e,r){s(e,o,r),i(o,t),i(o,l),i(o,c),i(c,n)},p(e,o){17&o&&a!==(a=e[0].attachments-e[4]+"")&&x(n,a)},d(e){e&&u(o)}}}function X(e){let o,t,r,l,c,n;return{c(){o=g("div"),t=g("img"),l=p(),c=g("span"),n=h(e[4]),k(t,"class","badge-icon"),d(t.src,r=fe('<svg id="_24x24" data-name="24x24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.cls-1{fill:#7a869a;fill-rule:evenodd;}</style></defs><path class="cls-1" d="M21.15,0H2.85A2.86,2.86,0,0,0,0,2.85v18.3A2.86,2.86,0,0,0,2.85,24h18.3A2.86,2.86,0,0,0,24,21.15V2.85A2.86,2.86,0,0,0,21.15,0ZM10.34,17.29a1,1,0,0,1-.95.94h-4a1,1,0,0,1-1-.94V5.38a1,1,0,0,1,1-1h4a1,1,0,0,1,.95,1Zm9.23-5.47a1,1,0,0,1-.95.95h-4a1,1,0,0,1-.95-.95V5.38a1,1,0,0,1,.95-1h4a1,1,0,0,1,.95,1Z"/></svg>'))||k(t,"src",r),k(t,"height","14"),k(t,"width","14"),k(t,"alt","Trello attachments badge"),k(c,"class","badge-text"),k(o,"title","Attachments"),k(o,"class","badge")},m(e,r){s(e,o,r),i(o,t),i(o,l),i(o,c),i(c,n)},p(e,o){16&o&&x(n,e[4])},d(e){e&&u(o)}}}function ee(e){let o,t,r,l,c,n,a,f,b,m,v=e[0].checkItemsChecked+"",w=e[0].checkItems+"",y=e[0].checkItemsEarliestDue&&oe(e);return{c(){o=g("div"),t=g("img"),l=p(),c=g("span"),n=h(v),a=h("/"),f=h(w),b=p(),y&&y.c(),k(t,"class","badge-icon"),d(t.src,r=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m6 4c-1.10457 0-2 .89543-2 2v12c0 1.1046.89543 2 2 2h12c1.1046 0 2-.8954 2-2v-5c0-.5523-.4477-1-1-1s-1 .4477-1 1v5h-12v-12h10c.5523 0 1-.44772 1-1s-.4477-1-1-1zm2.73534 6.3223c-.37429-.40612-1.00693-.43192-1.41304-.0576-.40611.3743-.43191 1.0069-.05763 1.413l3.61213 3.9193c.5375.5261 1.3377.5261 1.8343.0294l.3643-.3581c.2945-.2898.6227-.6127.9762-.9608 1.0098-.9945 2.0197-1.9906 2.9624-2.9227l.0403-.0399c1.6748-1.65621 2.9461-2.92125 3.6577-3.64267.3878-.39319.3834-1.02634-.0098-1.41418-.3932-.38783-1.0263-.38348-1.4141.00972-.7038.71354-1.9712 1.97467-3.6401 3.62504l-.0403.03982c-.9415.93107-1.9505 1.92627-2.9594 2.91987l-.8154.8026z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(t,"src",r),k(t,"height","14"),k(t,"width","14"),k(t,"alt","Checklist badge"),k(c,"class","badge-text"),k(o,"title","Checklist items"),k(o,"class",m="badge "+e[5])},m(e,r){s(e,o,r),i(o,t),i(o,l),i(o,c),i(c,n),i(c,a),i(c,f),i(c,b),y&&y.m(c,null)},p(e,t){1&t&&v!==(v=e[0].checkItemsChecked+"")&&x(n,v),1&t&&w!==(w=e[0].checkItems+"")&&x(f,w),e[0].checkItemsEarliestDue?y?y.p(e,t):(y=oe(e),y.c(),y.m(c,null)):y&&(y.d(1),y=null),32&t&&m!==(m="badge "+e[5])&&k(o,"class",m)},d(e){e&&u(o),y&&y.d()}}}function oe(e){let o,t,r=se(new Date(e[0].checkItemsEarliestDue))+"";return{c(){o=h("• "),t=h(r)},m(e,r){s(e,o,r),s(e,t,r)},p(e,o){1&o&&r!==(r=se(new Date(e[0].checkItemsEarliestDue))+"")&&x(t,r)},d(e){e&&u(o),e&&u(t)}}}function te(e){let o,t,r,l,c,n,a,f=e[0].votes+"";return{c(){o=g("div"),t=g("img"),l=p(),c=g("span"),n=h(f),k(t,"class","badge-icon"),d(t.src,r=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m4.0003 12v7c-.00651.2619.09356.5155.2777.7036.18414.188.43688.2949.70134.2964h1.01941v-9h-1.01941c-.26446.0015-.5172.1084-.70134.2964-.18414.1881-.28421.4417-.2777.7036zm15.2811-.96c-.5783-.6752-1.4277-1.06337-2.3214-1.061h-2.6344c.0404-.181.0808-.36.1111-.532.5147-2.934 0-4-.5047-4.59399-.4614-.54225-1.1413-.85452-1.8571-.853-1.5444.05273-2.81186 1.2278-2.96744 2.75099-.39364 1.839-.45419 2-.96895 2.725l-.76708 1.089c-.23441.3354-.36106.7331-.36336 1.141v6.273c.00134.5318.21583 1.0412.59629 1.4163.38047.3751.89573.585 1.43245.5837h7.24689c1.4853.0078 2.7561-1.055 2.9977-2.507l.6763-4c.1488-.8699-.0988-1.7604-.6763-2.432zm-1.9984 6.1c-.0816.4833-.5047.8368-.9993.835h-7.24689v-6.269l.76708-1.089c.72141-1.04439 1.16881-2.25036 1.30201-3.509.0364-.54253.2548-1.20856.969-1.108.7142.10057.5753 1.916.3633 3.1-.2153.981-.5055 1.9445-.868 2.882l5.3898-.008c.2974-.0011.5802.1279.7728.3524.1927.2246.2755.5219.2264.8126z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(t,"src",r),k(t,"height","14"),k(t,"width","14"),k(t,"alt","Votes badge"),k(c,"class","badge-text"),k(o,"title","Votes"),k(o,"class",a=e[0].viewingMemberVoted?"badge is-voted":"badge")},m(e,r){s(e,o,r),i(o,t),i(o,l),i(o,c),i(c,n)},p(e,t){1&t&&f!==(f=e[0].votes+"")&&x(n,f),1&t&&a!==(a=e[0].viewingMemberVoted?"badge is-voted":"badge")&&k(o,"class",a)},d(e){e&&u(o)}}}function re(o){let t,r,l;return{c(){t=g("div"),r=g("img"),k(r,"class","badge-icon"),d(r.src,l=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m12 21c2.2802 0 6-8.6863 6-12 0-3.31371-2.6863-6-6-6-3.31371 0-6 2.68629-6 6 0 3.3137 3.71981 12 6 12zm0-9c1.6081 0 2.9118-1.3036 2.9118-2.91177 0-1.60812-1.3037-2.91176-2.9118-2.91176s-2.91176 1.30364-2.91176 2.91176c0 1.60817 1.30366 2.91177 2.91176 2.91177z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(r,"src",l),k(r,"height","14"),k(r,"width","14"),k(r,"alt","Location badge"),k(t,"class","badge"),k(t,"title","This card has a location.")},m(e,o){s(e,t,o),i(t,r)},p:e,d(e){e&&u(t)}}}function le(e){let o,t=e[3],r=[];for(let o=0;o<t.length;o+=1)r[o]=ae(W(e,t,o));return{c(){o=g("span");for(let e=0;e<r.length;e+=1)r[e].c();k(o,"class","custom-field-front-badges")},m(e,t){s(e,o,t);for(let e=0;e<r.length;e+=1)r[e].m(o,null)},p(e,l){if(392&l){let c;for(t=e[3],c=0;c<t.length;c+=1){const n=W(e,t,c);r[c]?r[c].p(n,l):(r[c]=ae(n),r[c].c(),r[c].m(o,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=t.length}},d(e){e&&u(o),f(r,e)}}}function ce(e){let o,t,r,l,c=e[11].name+"",n=e[8](e[11])+"";return{c(){o=g("span"),t=h(c),r=h(": "),l=h(n),k(o,"class","badge-text")},m(e,c){s(e,o,c),i(o,t),i(o,r),i(o,l)},p(e,o){8&o&&c!==(c=e[11].name+"")&&x(t,c),8&o&&n!==(n=e[8](e[11])+"")&&x(l,n)},d(e){e&&u(o)}}}function ne(e){let o,t,r,l,c,n=e[11].name+"";return{c(){o=g("img"),r=p(),l=g("span"),c=h(n),k(o,"class","badge-icon"),d(o.src,t=fe('<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m12 22c-5.52285 0-10-4.4772-10-10 0-5.52285 4.47715-10 10-10 5.5228 0 10 4.47715 10 10 0 5.5228-4.4772 10-10 10zm0-2c4.4183 0 8-3.5817 8-8 0-4.41828-3.5817-8-8-8-4.41828 0-8 3.58172-8 8 0 4.4183 3.58172 8 8 8zm-3.70711-8.7071c.39053-.3905 1.02369-.3905 1.41422 0l1.29289 1.2929 3.2929-3.29291c.3905-.39052 1.0237-.39052 1.4142 0 .3905.39053.3905 1.02371 0 1.41421l-4 4c-.3905.3905-1.0237.3905-1.4142 0l-2.00001-2c-.39052-.3905-.39052-1.0237 0-1.4142z" fill="#5E6C84" fill-rule="evenodd"/></svg>'))||k(o,"src",t),k(o,"height","14"),k(o,"width","14"),k(o,"alt","Checkbox custom field badge"),k(l,"class","badge-text")},m(e,t){s(e,o,t),s(e,r,t),s(e,l,t),i(l,c)},p(e,o){8&o&&n!==(n=e[11].name+"")&&x(c,n)},d(e){e&&u(o),e&&u(r),e&&u(l)}}}function ae(e){let o,t,r;function l(e,o){return"checkbox"===e[11].type?ne:ce}let c=l(e),n=c(e);return{c(){o=g("div"),n.c(),t=p(),k(o,"class",r="badge "+("list"===e[11].type?ue(e[11],e[7](e[11])).color:""))},m(e,r){s(e,o,r),n.m(o,null),i(o,t)},p(e,a){c===(c=l(e))&&n?n.p(e,a):(n.d(1),n=c(e),n&&(n.c(),n.m(o,t))),8&a&&r!==(r="badge "+("list"===e[11].type?ue(e[11],e[7](e[11])).color:""))&&k(o,"class",r)},d(e){e&&u(o),n.d()}}}function de(o){let t,r,l,c,n=o[2]&&Z(),a=o[1]&&O(),d=o[0]&&Y(o),f=o[3].length>0&&le(o);return{c(){t=g("div"),n&&n.c(),r=p(),a&&a.c(),l=p(),d&&d.c(),c=p(),f&&f.c(),this.c=e,k(t,"class","badges")},m(e,o){s(e,t,o),n&&n.m(t,null),i(t,r),a&&a.m(t,null),i(t,l),d&&d.m(t,null),i(t,c),f&&f.m(t,null)},p(e,[o]){e[2]?n?n.p(e,o):(n=Z(),n.c(),n.m(t,r)):n&&(n.d(1),n=null),e[1]?a?a.p(e,o):(a=O(),a.c(),a.m(t,l)):a&&(a.d(1),a=null),e[0]?d?d.p(e,o):(d=Y(e),d.c(),d.m(t,c)):d&&(d.d(1),d=null),e[3].length>0?f?f.p(e,o):(f=le(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i:e,o:e,d(e){e&&u(t),n&&n.d(),a&&a.d(),d&&d.d(),f&&f.d()}}}function ie(e,o){if(o)return"is-complete";if("string"!=typeof e)return"";const t=new Date(e).getTime()-Date.now();return t<=864e5&&t>=0?"dueSoon":t<0&&t>-1296e5?"dueNow":t<0?"overdue":""}function se(e){const o=new Date,t=Math.abs(e-o)/864e5>273;return o.getFullYear()===e.getFullYear()&&!t?e.toLocaleDateString("default",{month:"short",day:"numeric"}):e.toLocaleDateString("default",{month:"short",day:"numeric",year:"numeric"})}function ue(e,o){return(e.options||[]).find((e=>e.id===o.idValue))}function fe(e){return e.endsWith(".svg")?e:"data:image/svg+xml,"+encodeURIComponent(e)}function ge(e,o,t){let r,l,c,n,{badges:a={}}=o,{closed:d=!1}=o,{template:i=!1}=o,{customfields:s}=o,{customfielditems:u}=o;function f(e){return(u||[]).find((o=>o.idCustomField===e.id))}function g(e){const o=f(e);if(!o)return null;if("list"===e.type){const t=ue(e,o);return t&&t.value&&t.value.text?t.value.text:null}if(!o.value)return null;const t=o.value;switch(e.type){case"checkbox":return t.checked;case"date":return t.date?se(new Date(t.date)):null;case"number":return t.number?parseFloat(t.number).toLocaleString():null;case"text":return t.text?t.text:null;default:return null}}return e.$$set=e=>{"badges"in e&&t(0,a=e.badges),"closed"in e&&t(1,d=e.closed),"template"in e&&t(2,i=e.template),"customfields"in e&&t(9,s=e.customfields),"customfielditems"in e&&t(10,u=e.customfielditems)},e.$$.update=()=>{1&e.$$.dirty&&t(6,r=ie((a||{}).due,(a||{}).dueComplete)),1&e.$$.dirty&&t(5,l=ie((a||{}).checkItemsEarliestDue,(a||{}).checkItems===(a||{}).checkItemsChecked)),1&e.$$.dirty&&t(4,c=a&&a.attachmentsByType&&a.attachmentsByType.trello?a.attachmentsByType.trello.board+a.attachmentsByType.trello.card:0),1536&e.$$.dirty&&t(3,n=(s||[]).filter((e=>{if(!e.display||!e.display.cardFront)return!1;return null!=(u||[]).find((o=>o.idCustomField===e.id))&&!!g(e)})).sort(((e,o)=>e.pos-o.pos)))},[a,d,i,n,c,l,r,f,g,s,u]}customElements.define("trello-card-badges",class extends P{constructor(e){super(),this.shadowRoot.innerHTML="<style>.badges{float:left;max-width:100%;margin-left:-2px}.badge,.badge-icon,.badge-text{vertical-align:top}.badge{border-radius:3px;color:#5e6c84;display:inline-block;margin:0 4px 4px 0;max-width:100%;min-height:20px;overflow:hidden;position:relative;padding:1px 2px;text-decoration:none;text-overflow:ellipsis}.badge.black{background-color:#4d4d4d;color:#fff}.badge.blue{background-color:#0079bf;color:#fff}.badge.green{background-color:#61bd4f;color:#fff}.badge.orange{background-color:#ffab4a;color:#fff}.badge.red{background-color:#eb5a46;color:#fff}.badge.yellow{background-color:#f2d600;color:#fff}.badge.purple{background-color:#c377e0;color:#fff}.badge.pink{background-color:#ff80ce;color:#fff}.badge.sky{background-color:#00c2e0;color:#fff}.badge.lime{background-color:#51e898;color:#fff}.badge-icon{margin-top:3px}.badge-text{font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Noto Sans, Ubuntu, Droid Sans,\n      Helvetica Neue, sans-serif;font-size:12px;font-weight:400;padding:0 4px 0 2px;vertical-align:top;white-space:nowrap}.badge.dueSoon,.badge.dueNow,.badge.overdue,.badge.is-complete{border-radius:3px;color:#fff}.dueSoon>.badge-icon,.dueNow>.badge-icon,.overdue>.badge-icon,.is-complete>.badge-icon{filter:brightness(0) invert(1);margin-left:2px}.badge.dueSoon{background-color:#e6c60d}.badge.dueNow{background-color:#cf513d}.badge.overdue{background-color:#ec9488}.badge.is-complete{background-color:#61bd4f}.badge.is-voted{background-color:#e2e4e6;border-radius:3px}.badge.is-voted .badge-icon{margin-left:2px}.badge.is-template{background-color:#e4f0f6;border-radius:3px;color:#172b4d}</style>",j(this,{target:this.shadowRoot,props:z(this.attributes),customElement:!0},ge,de,c,{badges:0,closed:1,template:2,customfields:9,customfielditems:10},null),e&&(e.target&&s(e.target,this,e.anchor),e.props&&(this.$set(e.props),V()))}static get observedAttributes(){return["badges","closed","template","customfields","customfielditems"]}get badges(){return this.$$.ctx[0]}set badges(e){this.$$set({badges:e}),V()}get closed(){return this.$$.ctx[1]}set closed(e){this.$$set({closed:e}),V()}get template(){return this.$$.ctx[2]}set template(e){this.$$set({template:e}),V()}get customfields(){return this.$$.ctx[9]}set customfields(e){this.$$set({customfields:e}),V()}get customfielditems(){return this.$$.ctx[10]}set customfielditems(e){this.$$set({customfielditems:e}),V()}});function he(e,o,t){const r=e.slice();return r[26]=o[t],r[28]=t,r}function pe(e,o,t){const r=e.slice();return r[29]=o[t],r[28]=t,r}function be(e,o,t){const r=e.slice();return r[31]=o[t],r}function me(o){let t;return{c(){t=g("div"),k(t,"class","card-cover")},m(e,o){s(e,t,o)},p:e,d(e){e&&u(t)}}}function ve(e){let o,t;return{c(){o=g("div"),k(o,"class",t="card-cover color-card-cover cover-"+e[3].color),y(o,"height",(e[10]?64:32)+"px"),y(o,"background-image",e[4]?`url('${e[16](e[3].color,"black"!==e[3].color)}')`:"none")},m(e,t){s(e,o,t)},p(e,r){8&r[0]&&t!==(t="card-cover color-card-cover cover-"+e[3].color)&&k(o,"class",t),1024&r[0]&&y(o,"height",(e[10]?64:32)+"px"),24&r[0]&&y(o,"background-image",e[4]?`url('${e[16](e[3].color,"black"!==e[3].color)}')`:"none")},d(e){e&&u(o)}}}function ke(e){let o;return{c(){o=g("div"),k(o,"class","card-cover"),y(o,"background-color",e[3].edgeColor||"transparent"),y(o,"background-image","url('"+e[1].url+"')"),y(o,"background-size",e[12]),y(o,"height",e[13]+"px")},m(e,t){s(e,o,t)},p(e,t){8&t[0]&&y(o,"background-color",e[3].edgeColor||"transparent"),2&t[0]&&y(o,"background-image","url('"+e[1].url+"')"),4096&t[0]&&y(o,"background-size",e[12]),8192&t[0]&&y(o,"height",e[13]+"px")},d(e){e&&u(o)}}}function we(e){let o,t=e[0].stickers||[],r=[];for(let o=0;o<t.length;o+=1)r[o]=xe(be(e,t,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();o=b()},m(e,t){for(let o=0;o<r.length;o+=1)r[o].m(e,t);s(e,o,t)},p(e,l){if(1&l[0]){let c;for(t=e[0].stickers||[],c=0;c<t.length;c+=1){const n=be(e,t,c);r[c]?r[c].p(n,l):(r[c]=xe(n),r[c].c(),r[c].m(o.parentNode,o))}for(;c<r.length;c+=1)r[c].d(1);r.length=t.length}},d(e){f(r,e),e&&u(o)}}}function xe(e){let o,t,r,l,c;return{c(){o=g("div"),t=g("img"),c=p(),k(t,"class","sticker-image"),d(t.src,r=e[31].imageUrl)||k(t,"src",r),y(t,"transform","rotate("+e[31].rotate+"deg)"),k(t,"alt",l=e[31].image),k(o,"class","sticker"),y(o,"left",e[31].left+"%"),y(o,"top",e[31].top+"%")},m(e,r){s(e,o,r),i(o,t),i(o,c)},p(e,c){1&c[0]&&!d(t.src,r=e[31].imageUrl)&&k(t,"src",r),1&c[0]&&y(t,"transform","rotate("+e[31].rotate+"deg)"),1&c[0]&&l!==(l=e[31].image)&&k(t,"alt",l),1&c[0]&&y(o,"left",e[31].left+"%"),1&c[0]&&y(o,"top",e[31].top+"%")},d(e){e&&u(o)}}}function ye(e){let o,t,l,c,n,a,d,i,f,h,b,v,x,y,z=[],M=new Map,_=[],C=new Map,E=(e[0].labels||[]).filter(Be);const H=e=>e[29].id;for(let o=0;o<E.length;o+=1){let t=pe(e,E,o),r=H(t);M.set(r,z[o]=ze(r,t))}function T(e,o){return e[14]?_e:Me}let N=T(e),D=N(e),B=e[0].members||[];const S=e=>e[26].id;for(let o=0;o<B.length;o+=1){let t=he(e,B,o),r=S(t);C.set(r,_[o]=He(r,t))}return{c(){o=g("div");for(let e=0;e<z.length;e+=1)z[e].c();t=p(),l=g("span"),D.c(),c=p(),n=g("trello-card-badges"),b=p(),v=g("div");for(let e=0;e<_.length;e+=1)_[e].c();k(o,"class","card-labels"),k(o,"tabindex","0"),$(o,"label-hover",e[7]),k(l,"class","card-title"),k(l,"dir","auto"),w(n,"badges",a=e[0].badges||{}),w(n,"closed",d=e[0].closed),w(n,"customfields",i=e[0].customFields||[]),w(n,"customfielditems",f=e[0].customFieldItems||[]),w(n,"template",h=e[0].isTemplate),k(v,"class","card-members")},m(r,a){s(r,o,a);for(let e=0;e<z.length;e+=1)z[e].m(o,null);s(r,t,a),s(r,l,a),D.m(l,null),s(r,c,a),s(r,n,a),s(r,b,a),s(r,v,a);for(let e=0;e<_.length;e+=1)_[e].m(v,null);x||(y=[m(o,"focus",e[22]),m(o,"blur",e[23]),m(o,"keydown",e[15])],x=!0)},p(e,t){98449&t[0]&&(E=(e[0].labels||[]).filter(Be),z=U(z,t,H,1,e,E,M,o,L,ze,null,pe)),128&t[0]&&$(o,"label-hover",e[7]),N===(N=T(e))&&D?D.p(e,t):(D.d(1),D=N(e),D&&(D.c(),D.m(l,null))),1&t[0]&&a!==(a=e[0].badges||{})&&w(n,"badges",a),1&t[0]&&d!==(d=e[0].closed)&&w(n,"closed",d),1&t[0]&&i!==(i=e[0].customFields||[])&&w(n,"customfields",i),1&t[0]&&f!==(f=e[0].customFieldItems||[])&&w(n,"customfielditems",f),1&t[0]&&h!==(h=e[0].isTemplate)&&w(n,"template",h),1&t[0]&&(B=e[0].members||[],_=U(_,t,S,1,e,B,C,v,L,He,null,he))},d(e){e&&u(o);for(let e=0;e<z.length;e+=1)z[e].d();e&&u(t),e&&u(l),D.d(),e&&u(c),e&&u(n),e&&u(b),e&&u(v);for(let e=0;e<_.length;e+=1)_[e].d();x=!1,r(y)}}}function $e(e){let o,t,r=e[0].name+"";return{c(){o=g("span"),t=h(r),k(o,"class","card-title"),k(o,"dir","auto")},m(e,r){s(e,o,r),i(o,t)},p(e,o){1&o[0]&&r!==(r=e[0].name+"")&&x(t,r)},d(e){e&&u(o)}}}function ze(e,o){let t,l,c,n,a,d,f,b,w,$,z=o[29].name+"";return{key:e,first:null,c(){t=g("span"),l=g("span"),c=p(),n=g("span"),a=h(z),d=p(),k(l,"class","label-pattern"),y(l,"background-image",o[4]?`url('${o[16](o[29].color,!o[29].color.startsWith("black"))}')`:"none"),k(n,"class","label-text"),k(t,"class",f="card-label "+o[29].color),k(t,"title",b=o[29].name),this.first=t},m(e,r){var u;s(e,t,r),i(t,l),i(t,c),i(t,n),i(n,a),i(t,d),w||($=[m(t,"click",v((u=o[15],function(e){return e.preventDefault(),u.call(this,e)}))),m(t,"mouseover",o[20]),m(t,"mouseout",o[21])],w=!0)},p(e,r){o=e,17&r[0]&&y(l,"background-image",o[4]?`url('${o[16](o[29].color,!o[29].color.startsWith("black"))}')`:"none"),1&r[0]&&z!==(z=o[29].name+"")&&x(a,z),1&r[0]&&f!==(f="card-label "+o[29].color)&&k(t,"class",f),1&r[0]&&b!==(b=o[29].name)&&k(t,"title",b)},d(e){e&&u(t),w=!1,r($)}}}function Me(e){let o,t=e[0].name+"";return{c(){o=h(t)},m(e,t){s(e,o,t)},p(e,r){1&r[0]&&t!==(t=e[0].name+"")&&x(o,t)},d(e){e&&u(o)}}}function _e(o){let t;return{c(){t=g("div"),k(t,"class","separator")},m(e,o){s(e,t,o)},p:e,d(e){e&&u(t)}}}function Ce(e){let o,t,r,l,c=e[26].initials+"";return{c(){o=g("span"),t=h(c),k(o,"class","member-initials"),k(o,"title",r="@"+e[26].username),k(o,"aria-label",l="@"+e[26].username)},m(e,r){s(e,o,r),i(o,t)},p(e,n){1&n[0]&&c!==(c=e[26].initials+"")&&x(t,c),1&n[0]&&r!==(r="@"+e[26].username)&&k(o,"title",r),1&n[0]&&l!==(l="@"+e[26].username)&&k(o,"aria-label",l)},d(e){e&&u(o)}}}function Ee(e){let o,t,r,l,c;return{c(){o=g("img"),k(o,"class","member-avatar"),d(o.src,t=De(e[26]))||k(o,"src",t),k(o,"srcset",r=De(e[26])+" 1x, "+De(e[26],50)+" 2x"),k(o,"alt",l=e[26].fullName+" ("+e[26].username+")"),k(o,"title",c=e[26].fullName+" ("+e[26].username+")"),k(o,"width","28"),k(o,"height","28")},m(e,t){s(e,o,t)},p(e,n){1&n[0]&&!d(o.src,t=De(e[26]))&&k(o,"src",t),1&n[0]&&r!==(r=De(e[26])+" 1x, "+De(e[26],50)+" 2x")&&k(o,"srcset",r),1&n[0]&&l!==(l=e[26].fullName+" ("+e[26].username+")")&&k(o,"alt",l),1&n[0]&&c!==(c=e[26].fullName+" ("+e[26].username+")")&&k(o,"title",c)},d(e){e&&u(o)}}}function He(e,o){let t,r,l;function c(e,o){return 1&o[0]&&(r=null),null==r&&(r=!!De(e[26])),r?Ee:Ce}let n=c(o,[-1,-1]),a=n(o);return{key:e,first:null,c(){t=g("div"),a.c(),l=p(),k(t,"class","member"),$(t,"member-deactivated",o[26].activityBlocked||o[26].deactivated),this.first=t},m(e,o){s(e,t,o),a.m(t,null),i(t,l)},p(e,r){n===(n=c(o=e,r))&&a?a.p(o,r):(a.d(1),a=n(o),a&&(a.c(),a.m(t,l))),1&r[0]&&$(t,"member-deactivated",o[26].activityBlocked||o[26].deactivated)},d(e){e&&u(t),a.d()}}}function Te(o){let t,r,l,c,n,a,d,f,h;function b(e,o){return e[11]&&!e[5]?ke:e[2]&&!e[5]?ve:me}let m=b(o),v=m(o),w=o[10]&&we(o);function x(e,o){return e[5]?$e:ye}let z=x(o),M=z(o);return{c(){t=g("a"),v.c(),r=p(),l=g("div"),c=g("div"),w&&w.c(),n=p(),a=g("div"),M.c(),this.c=e,k(c,"class","stickers"),k(l,"class","card-stickers-area"),k(a,"class","card-details"),k(t,"class",d="card "+(o[5]&&o[2]?"cover-"+o[3].color:"")),y(t,"background-image",o[9]),y(t,"height",o[5]&&!o[2]?o[13]+"px":"unset"),k(t,"href",f=o[0].url),k(t,"target",h=o[0].url),$(t,"is-stickered",o[10]),$(t,"show-label-text",o[8]),$(t,"color-blind-mode",o[4]),$(t,"full-cover",o[5]),$(t,"is-colored",o[5]&&o[2]),$(t,"full-cover-dark",o[5]&&o[6]),$(t,"is-covered",!o[5]&&(o[11]||o[2]))},m(e,o){s(e,t,o),v.m(t,null),i(t,r),i(t,l),i(l,c),w&&w.m(c,null),i(t,n),i(t,a),M.m(a,null)},p(e,o){m===(m=b(e))&&v?v.p(e,o):(v.d(1),v=m(e),v&&(v.c(),v.m(t,r))),e[10]?w?w.p(e,o):(w=we(e),w.c(),w.m(c,null)):w&&(w.d(1),w=null),z===(z=x(e))&&M?M.p(e,o):(M.d(1),M=z(e),M&&(M.c(),M.m(a,null))),44&o[0]&&d!==(d="card "+(e[5]&&e[2]?"cover-"+e[3].color:""))&&k(t,"class",d),512&o[0]&&y(t,"background-image",e[9]),8228&o[0]&&y(t,"height",e[5]&&!e[2]?e[13]+"px":"unset"),1&o[0]&&f!==(f=e[0].url)&&k(t,"href",f),1&o[0]&&h!==(h=e[0].url)&&k(t,"target",h),1068&o[0]&&$(t,"is-stickered",e[10]),300&o[0]&&$(t,"show-label-text",e[8]),60&o[0]&&$(t,"color-blind-mode",e[4]),44&o[0]&&$(t,"full-cover",e[5]),44&o[0]&&$(t,"is-colored",e[5]&&e[2]),108&o[0]&&$(t,"full-cover-dark",e[5]&&e[6]),2092&o[0]&&$(t,"is-covered",!e[5]&&(e[11]||e[2]))},i:e,o:e,d(e){e&&u(t),v.d(),w&&w.d(),M.d()}}}const Ne=248;function De(e,o=30){return"string"==typeof e.avatar&&/\/\d+\.png$/.test(e.avatar)?e.avatar.replace(/\/\d+\.png$/,`/${o}.png`):"string"==typeof e.avatarUrl?`${e.avatarUrl}/${o}.png`:"string"==typeof e.avatarHash&&e.id?`https://trello-members.s3.amazonaws.com/${e.id}/${e.avatarHash}/${o}.png`:null}const Be=e=>null!=e.color;function Se(e,o,t){let r,l,c,n,a,d,i,s,u,f,g,h,p,b,{card:m={name:""}}=o,{colorblind:v=!1}=o,{labeltext:k=!0}=o;let w=!1;function x(e,o=!1){let t;switch(e){case"blue":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".85" d="M0 4h16v4H0zM0 12h16v4H0z"/></svg>';break;case"green":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)" fill="#fff" fill-opacity=".85"><path d="M0 10l6 6H0v-6zM6 0H0l16 16v-6L6 0z"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>';break;case"orange":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".85" d="M4 0h4v16H4zM12 0h4v16h-4z"/></svg>';break;case"red":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="1" y="1" width="6" height="6" rx="3" fill="#fff" fill-opacity=".85"/><rect x="9" y="9" width="6" height="6" rx="3" fill="#fff" fill-opacity=".85"/></svg>';break;case"purple":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14h4v2h-4v-2zM10 0h4v2h-4V0zM2 6h4v4H2V6zM2 5a3 3 0 0 1 3-3h1v4H2V5zM14 3a3 3 0 0 1-3 3h-1V2h4v1zM6 2h4v4H6V2zM14 10h2v4h-2v-4zM0 10h2v4H0v-4zM10 13a3 3 0 0 1 3-3h1v4h-4v-1zM6 11a3 3 0 0 1-3 3H2v-4h4v1z" fill="#fff" fill-opacity=".85"/></svg>';break;case"yellow":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 10h2v4h-2v-4zM0 10h2v4H0v-4zM2 10h4v1a3 3 0 0 1-3 3H2v-4zM6 2h4v4H6V2zM10 2h1a3 3 0 0 1 3 3v1h-4V2zM2 6h4v4H2V6zM2 5a3 3 0 0 1 3-3h1v4H2V5zM10 6h4v4h-4V6zM10 10h4v4h-1a3 3 0 0 1-3-3v-1z" fill="#fff" fill-opacity=".85"/></svg>';break;case"pink":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 4a2 2 0 1 1 4 0 2 2 0 1 1-4 0zM2 12a2 2 0 1 1 4 0 2 2 0 1 1-4 0zM2 4a2 2 0 0 1 2-2h4a2 2 0 1 1 0 4H4a2 2 0 0 1-2-2zM8 12a2 2 0 0 1 2-2h4a2 2 0 1 1 0 4h-4a2 2 0 0 1-2-2z" fill="#fff" fill-opacity=".85"/></svg>';break;case"sky":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.286 6.143l-7.143 7.143a2.424 2.424 0 1 1-3.429-3.429l7.143-7.143a2.424 2.424 0 1 1 3.429 3.429z" fill="#fff" fill-opacity=".85"/></svg>';break;case"lime":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a2 2 0 0 1 2-2h6a4 4 0 0 1 4 4H4a2 2 0 0 1-2-2zM2 12a2 2 0 0 1 2-2h10a4 4 0 0 1-4 4H4a2 2 0 0 1-2-2zM10 6h4v4h-4z" fill="#fff" fill-opacity=".85"/></svg>';break;case"black":t='<svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 4a2 2 0 1 1 4 0v8a2 2 0 1 1-4 0V4zM10 12a2 2 0 1 1 4 0v4h-4v-4zM10 0h4v4a2 2 0 1 1-4 0V0z" fill="#fff" fill-opacity=".85"/></svg>'}if(t)return o&&(t=function(e){return e.replace(/fill="#fff"/g,'fill="#000"').replace(/fill-opacity="\.85"/g,'fill-opacity=".5"')}(t)),(r=t).endsWith(".svg")?r:"data:image/svg+xml,"+encodeURIComponent(r);var r}return e.$$set=e=>{"card"in e&&t(0,m=e.card),"colorblind"in e&&t(18,v=e.colorblind),"labeltext"in e&&t(17,k=e.labeltext)},e.$$.update=()=>{if(262144&e.$$.dirty[0]&&t(4,r="boolean"==typeof v?v:"string"==typeof v&&"false"!==v),131072&e.$$.dirty[0]&&t(8,l="boolean"==typeof k?k:"string"!=typeof k||"false"!==k),1&e.$$.dirty[0]){if(!m||"object"!=typeof m)throw new Error("Trello card missing or invalid card property");if("string"!=typeof m.name)throw new Error("Trello card missing name");if(void 0!==m.url&&"string"!=typeof m.url)throw new Error("Trello card url must be a string");if("string"==typeof m.url&&!(e=>{try{const o=new URL(e);return!!/^https?:$/.test(o.protocol)&&/^\/c\/[a-zA-Z0-9]{8,24}/.test(o.pathname)}catch(e){return!1}})(m.url))throw new Error("Trello card url invalid")}1&e.$$.dirty[0]&&t(14,c=/^(?:-|_){3,}$/.test(m.name.replace(/—/g,"--"))),1&e.$$.dirty[0]&&t(3,n="object"==typeof m.cover?m.cover:(m.attachments||[]).find((e=>e.id===m.idAttachmentCover))),8&e.$$.dirty[0]&&t(1,a=n?function(e,o){const t=window.devicePixelRatio>1?496:Ne,r=(e||[]).filter((e=>e.scaled)).sort(((e,o)=>Math.abs(o.width-t)-Math.abs(e.width-t))).reverse();return r.length>0?r[0]:o}(n.scaled||n.previews):null),2&e.$$.dirty[0]&&t(13,d=null!=a&&Math.min(a.height*Ne/a.width,Math.min(a.height,224))),2&e.$$.dirty[0]&&t(12,i=null!=a&&a.height*Ne/a.width<=Math.min(a.height,224)?"cover":"contain"),2&e.$$.dirty[0]&&t(11,s=null!=a),1&e.$$.dirty[0]&&t(2,u=m.cover&&"string"==typeof m.cover.color),1&e.$$.dirty[0]&&t(10,f=m.stickers&&m.stickers.length>0),7&e.$$.dirty[0]&&t(5,g=m.cover&&"full"===m.cover.size&&(u||!!a)),33&e.$$.dirty[0]&&t(6,h=g&&"dark"===m.cover.brightness),64&e.$$.dirty[0]&&t(19,p=h?"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 49.07%, #000000 100%)":"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 52.08%, #FFFFFF 100%)"),524350&e.$$.dirty[0]&&t(9,b=g?u&&r?`url('${x(n.color,"black"!==n.color)}')`:u?"none":`${p}, url('${a.url}')`:"none")},[m,a,u,n,r,g,h,w,l,b,f,s,i,d,c,function(e){if(e.keyCode&&![13,32].includes(e.keyCode))return;32===e.keyCode&&e.preventDefault(),t(17,k=!l);const o=new CustomEvent("labelTextChanged",{detail:{labeltext:k},bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(o)},x,k,v,p,()=>t(7,w=!0),()=>t(7,w=!1),()=>t(7,w=!0),()=>t(7,w=!1)]}class Ve extends P{constructor(e){super(),this.shadowRoot.innerHTML="<style>.green_light{--background-color:#eef6ec;--hover-background-color:#d6ecd2;--foreground-color:#b7ddb0;--hover-foreground-color:#7bc86c}.green{--background-color:#d6ecd2;--hover-background-color:#b7ddb0;--foreground-color:#7bc86c;--hover-foreground-color:#5aac44}.green_dark{--background-color:#b7ddb0;--hover-background-color:#99d18f;--foreground-color:#5aac44;--hover-foreground-color:#49852e}.yellow_light{--background-color:#fdfae5;--hover-background-color:#faf3c0;--foreground-color:#f5ea92;--hover-foreground-color:#f5dd29}.yellow{--background-color:#faf3c0;--hover-background-color:#f5ea92;--foreground-color:#f5dd29;--hover-foreground-color:#e6c60d}.yellow_dark{--background-color:#f5ea92;--hover-background-color:#f3e260;--foreground-color:#e6c60d;--hover-foreground-color:#cca42b}.orange_light{--background-color:#fdf4e7;--hover-background-color:#fce6c6;--foreground-color:#fad29c;--hover-foreground-color:#ffaf3f}.orange{--background-color:#fce6c6;--hover-background-color:#fad29c;--foreground-color:#ffaf3f;--hover-foreground-color:#e79217}.orange_dark{--background-color:#fad29c;--hover-background-color:#fdbf69;--foreground-color:#e79217;--hover-foreground-color:#b4760f}.red_light{--background-color:#fbedeb;--hover-background-color:#f5d3ce;--foreground-color:#efb3ab;--hover-foreground-color:#ef7564}.red{--background-color:#f5d3ce;--hover-background-color:#efb3ab;--foreground-color:#ef7564;--hover-foreground-color:#cf513d}.red_dark{--background-color:#efb3ab;--hover-background-color:#ec9488;--foreground-color:#cf513d;--hover-foreground-color:#933b27}.purple_light{--background-color:#f7f0fa;--hover-background-color:#eddbf4;--foreground-color:#dfc0eb;--hover-foreground-color:#cd8de5}.purple{--background-color:#eddbf4;--hover-background-color:#dfc0eb;--foreground-color:#cd8de5;--hover-foreground-color:#a86cc1}.purple_dark{--background-color:#dfc0eb;--hover-background-color:#d5a6e6;--foreground-color:#a86cc1;--hover-foreground-color:#6c547b}.blue_light{--background-color:#e4f0f6;--hover-background-color:#bcd9ea;--foreground-color:#8bbdd9;--hover-foreground-color:#298fca}.blue{--background-color:#bcd9ea;--hover-background-color:#8bbdd9;--foreground-color:#5ba4cf;--hover-foreground-color:#0079bf}.blue_dark{--background-color:#8bbdd9;--hover-background-color:#5ba4cf;--foreground-color:#026aa7;--hover-foreground-color:#094c72}.sky_light{--background-color:#e4f7fa;--hover-background-color:#bdecf3;--foreground-color:#8fdfeb;--hover-foreground-color:#29cce5}.sky{--background-color:#bdecf3;--hover-background-color:#8fdfeb;--foreground-color:#29cce5;--hover-foreground-color:#00aecc}.sky_dark{--background-color:#8fdfeb;--hover-background-color:#5dd3e5;--foreground-color:#00aecc;--hover-foreground-color:#0082a0}.lime_light{--background-color:#ecfbf3;--hover-background-color:#d3f6e4;--foreground-color:#b3f1d0;--hover-foreground-color:#6deca9}.lime{--background-color:#d3f6e4;--hover-background-color:#b3f1d0;--foreground-color:#6deca9;--hover-foreground-color:#4ed583}.lime_dark{--background-color:#b3f1d0;--hover-background-color:#90ecc1;--foreground-color:#4ed583;--hover-foreground-color:#49aa54}.pink_light{--background-color:#fef1f9;--hover-background-color:#fcdcef;--foreground-color:#f9c2e4;--hover-foreground-color:#ff8ed4}.pink{--background-color:#fcdcef;--hover-background-color:#f9c2e4;--foreground-color:#ff8ed4;--hover-foreground-color:#e568af}.pink_dark{--background-color:#f9c2e4;--hover-background-color:#ffabdf;--foreground-color:#e568af;--hover-foreground-color:#ae4270}.black_light{--background-color:#ebecf0;--hover-background-color:#dfe1e6;--foreground-color:#505f79;--hover-foreground-color:#42526e}.black{--background-color:#dfe1e6;--hover-background-color:#c1c7d0;--foreground-color:#344563;--hover-foreground-color:#172b4d}.black_dark{--background-color:#c1c7d0;--hover-background-color:#b3bac5;--foreground-color:#091e42;--hover-foreground-color:#000000}:host{display:block}img{border:0}.card{background-color:#fff;border-radius:3px;box-shadow:0 1px 0 rgba(9, 30, 66, 0.25);color:#172b4d;cursor:pointer;display:block;font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Noto Sans, Ubuntu, Droid Sans, Helvetica Neue, sans-serif;font-size:14px;font-weight:400;line-height:20px;max-width:300px;min-height:32px;min-width:224px;position:relative;text-decoration:none;z-index:0}.card-cover{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:3px 3px 0 0;min-height:1px;user-select:none}.card.full-cover{background-size:cover;display:flex;flex-direction:row;min-height:56px}.card.full-cover.is-colored.color-blind-mode{background-size:16px 16px;background-repeat:repeat-y;background-position:0}.card-stickers-area{border-radius:3px;overflow:hidden;position:absolute;top:0;right:0;left:0;bottom:0;z-index:5}.card-stickers-area .stickers{height:155px;position:relative;width:100%}.card.is-stickered .stickers{height:64px}.card.is-stickered .card-details{background-color:hsla(0, 0%, 100%, 0.7);border-radius:0 0 3px 3px;margin-top:55px}.card.is-stickered.is-covered .card-details{margin-top:0}.card.full-cover.is-stickered .card-details{background-color:unset;margin-top:0}.card.full-cover .card-details{align-self:flex-end}.card.full-cover.color-blind-mode .card-details{left:16px}.sticker{display:block;height:64px;left:0;position:absolute;top:0;width:64px;z-index:0;transition:opacity 85ms ease-in, -webkit-transform 85ms ease-in;transition:transform 85ms ease-in, opacity 85ms ease-in;transition:transform 85ms ease-in, opacity 85ms ease-in, -webkit-transform 85ms ease-in;user-select:none}.sticker-image{height:4pc;width:4pc;color:transparent}.card-details{overflow:hidden;padding:6px 8px 2px;position:relative;z-index:10}.card-labels:empty{display:none;margin:0}.card-labels{overflow:auto;position:relative}.card-labels:focus-visible{outline:none}.card-label{background-color:var(--foreground-color);border-radius:4px;box-sizing:border-box;color:transparent;display:block;float:left;font-size:12px;font-weight:400;height:8px;line-height:8px;margin:0 4px 4px 0;max-width:40px;min-width:40px;overflow:hidden;padding:0;position:relative;text-overflow:ellipsis;text-shadow:none;white-space:nowrap;width:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.show-label-text .card-label{background-color:var(--background-color);color:#172b4d;height:16px;line-height:16px;max-width:100%;min-width:56px;padding-left:16px;padding-right:8px}.color-blind-mode.show-label-text .card-label{padding-left:24px}.label-hover .card-label{background-color:var(--hover-foreground-color)}.show-label-text .label-hover .card-label{background-color:var(--hover-background-color)}.label-pattern{display:none;position:absolute}.show-label-text .label-pattern{display:inline;position:absolute;top:4px;bottom:4px;left:4px;border-radius:50%;width:8px;height:8px;background-color:var(--foreground-color)}.color-blind-mode .label-pattern{display:inline;inset:0}.color-blind-mode.show-label-text .label-pattern{border-radius:4px;width:16px;height:16px}.cover-blue{background-color:#5ba4cf}.cover-green{background-color:#7bc86c}.cover-orange{background-color:#ffaf3f}.cover-purple{background-color:#cd8de5}.cover-red{background-color:#ef7564}.cover-yellow{background-color:#f5dd29}.cover-sky{background-color:#29cce5}.cover-lime{background-color:#6deca9}.cover-pink{background-color:#ff8ed4}.cover-black{background-color:#172b4d}.color-blind-mode .color-card-cover{background-position:left;background-repeat:repeat-y;background-size:16px 16px}.card-title{clear:both;color:#172b4d;display:block;margin:0 0 4px;overflow:hidden;text-align:left;text-decoration:none;word-wrap:break-word}.full-cover .card-title{font-size:16px;line-height:20px;margin-bottom:8px;font-weight:500}.full-cover-dark .card-title{color:#fff}.separator{align-items:center;border-radius:3px;display:flex;flex-direction:column;height:20px;justify-content:center;margin:0 auto;overflow:hidden;width:70%}.separator:before{border-top:2px solid #c1c7d0;content:'';display:block;width:100%}.card-members{float:right;margin:0 -2px 0 0}.member{background-color:#dfe1e6;border-radius:14px;color:#172b4d;display:block;float:right;height:28px;margin:0 0 4px 4px;overflow:visible;position:relative;text-decoration:none;user-select:none;width:28px;z-index:0}.member.member-deactivated{background-color:#f4f5f7}.member.member-deactivated .member-avatar{opacity:0.2}.member.member-deactivated .member-initials{background-color:transparent;color:#5e6c84}.member-avatar{border-radius:14px;object-fit:cover}.member-initials{background-color:#dfe1e6;border-radius:14px;display:block;font-size:12px;font-weight:700;height:28px;left:0;line-height:28px;overflow:hidden;position:absolute;text-align:center;top:0;width:28px}</style>",j(this,{target:this.shadowRoot,props:z(this.attributes),customElement:!0},Se,Te,c,{card:0,colorblind:18,labeltext:17},null,[-1,-1]),e&&(e.target&&s(e.target,this,e.anchor),e.props&&(this.$set(e.props),V()))}static get observedAttributes(){return["card","colorblind","labeltext"]}get card(){return this.$$.ctx[0]}set card(e){this.$$set({card:e}),V()}get colorblind(){return this.$$.ctx[18]}set colorblind(e){this.$$set({colorblind:e}),V()}get labeltext(){return this.$$.ctx[17]}set labeltext(e){this.$$set({labeltext:e}),V()}}return customElements.define("trello-card",Ve),Ve}));
//# sourceMappingURL=card.min.js.map
